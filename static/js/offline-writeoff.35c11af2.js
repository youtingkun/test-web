(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["offline-writeoff"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},2409:function(e,t,r){"use strict";r.d(t,"B",(function(){return n})),r.d(t,"y",(function(){return a})),r.d(t,"A",(function(){return u})),r.d(t,"z",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return d})),r.d(t,"k",(function(){return f})),r.d(t,"h",(function(){return m})),r.d(t,"i",(function(){return b})),r.d(t,"g",(function(){return p})),r.d(t,"l",(function(){return h})),r.d(t,"m",(function(){return w})),r.d(t,"p",(function(){return y})),r.d(t,"q",(function(){return _})),r.d(t,"P",(function(){return O})),r.d(t,"j",(function(){return F})),r.d(t,"Q",(function(){return v})),r.d(t,"M",(function(){return g})),r.d(t,"O",(function(){return k})),r.d(t,"N",(function(){return $})),r.d(t,"C",(function(){return j})),r.d(t,"x",(function(){return x})),r.d(t,"o",(function(){return N})),r.d(t,"D",(function(){return R})),r.d(t,"w",(function(){return D})),r.d(t,"L",(function(){return I})),r.d(t,"n",(function(){return T})),r.d(t,"t",(function(){return q})),r.d(t,"s",(function(){return A})),r.d(t,"K",(function(){return E})),r.d(t,"G",(function(){return P})),r.d(t,"u",(function(){return L})),r.d(t,"e",(function(){return C})),r.d(t,"E",(function(){return S})),r.d(t,"F",(function(){return W})),r.d(t,"r",(function(){return V})),r.d(t,"H",(function(){return z})),r.d(t,"f",(function(){return M})),r.d(t,"J",(function(){return B})),r.d(t,"I",(function(){return H})),r.d(t,"v",(function(){return U}));var o=r("0c6d"),n=function(e){return Object(o["a"])({url:"/boss/loan/manual/statistics",method:"post",data:e})},a=function(e){return Object(o["a"])({url:"/boss/loan/manual/page",method:"post",data:e})},u=function(e){return Object(o["a"])({url:"/boss/loan/manual/refuse",method:"post",data:e})},i=function(e){return Object(o["a"])({url:"/boss/loan/manual/pay",method:"post",data:e})},s=function(e){return Object(o["a"])({url:"/boss/loan/abnormal/page",method:"post",data:e})},l=function(e){return Object(o["a"])({url:"/boss/loan/abnormal/refuse",method:"post",data:e})},c=function(e){return Object(o["a"])({url:"/boss/loan/abnormal/update",method:"post",data:e})},d=function(e){return Object(o["a"])({url:"/boss/loan/abnormal/pay",method:"post",data:e})},f=function(e,t){var r=1==e?"/boss/bankFlow/page":"/boss/bankFlow/accesspage";return Object(o["a"])({url:r,method:"post",data:t})},m=function(e,t){var r=1==e?"/boss/bankFlow/deletion":"/boss/bankFlow/accessdeletion";return Object(o["a"])({url:r,method:"post",data:t})},b=function(e,t){var r=1==e?"/boss/bankFlow/exceptionHandler":"/boss/bankFlow/accessexceptionHandler";return Object(o["a"])({url:r,method:"post",data:t})},p=function(e,t){var r=1==e?"/boss/bankFlow/cancel":"/boss/bankFlow/accesscancel";return Object(o["a"])({url:r,method:"post",data:t})},h=function(e,t){var r=1==e?"/boss/bankFlow/record":"/boss/bankFlow/accessrecord";return Object(o["a"])({url:r,method:"post",data:t})},w=function(e,t){var r=1==e?"/boss/bankFlow/revoke":"/boss/bankFlow/accessrevoke";return Object(o["a"])({url:r,method:"post",data:t})},y=function(e){return Object(o["a"])({url:"/boss/bankFlow/claimFlow",method:"post",data:e})},_=function(e){return Object(o["a"])({url:"/boss/bankFlow/claimFlowList",method:"post",data:e})},O=function(e){return Object(o["a"])({url:"/boss/writeOff/offline/page",method:"post",data:e})},F=function(e){return Object(o["a"])({url:"/boss/bankFlow/getByFlowNo",method:"post",data:e})},v=function(e){return Object(o["a"])({url:"/boss/writeOff/offline/repay",method:"post",data:e})},g=function(e){return Object(o["a"])({url:"/boss/writeOff/abnormal/page",method:"post",data:e})},k=function(e){return Object(o["a"])({url:"/boss/writeOff/abnormal/repay",method:"post",data:e})},$=function(e){return Object(o["a"])({url:"/boss/writeOff/abnormal/refund",method:"post",data:e})};function j(e){return Object(o["a"])({url:"/boss/orderRepay/payAccountChecking/export",method:"post",responseType:"blob",data:e})}function x(e){return Object(o["a"])({url:"/boss/orderRepay/incomeAccountChecking/export",method:"post",responseType:"blob",data:e})}function N(e){return Object(o["a"])({url:"/boss/orderRepay/bindCardChecking/export",method:"post",responseType:"blob",data:e})}function R(e){return Object(o["a"])({url:"/boss/orderRepay/paymentChannel",method:"post",data:e})}function D(){return Object(o["a"])({url:"/boss/tenant/config/payment/auto/getPaymentAuto",method:"post",data:{param:{}}})}function I(e){return Object(o["a"])({url:"/boss/tenant/config/payment/auto/startPaymentAuto",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/boss/tenant/config/payment/auto/bankNameList",method:"get",params:e})}var q=function(e){return Object(o["a"])({url:"/boss/bankFlow/exportExcel",responseType:"blob",method:"post",data:e})},A=function(e){return Object(o["a"])({url:"/boss/bankFlow/exportAccessExcel",responseType:"blob",method:"post",data:e})};function E(e){return Object(o["a"])({url:"/boss/bankFlow/examineFlow",method:"post",data:e})}function P(e){return Object(o["a"])({url:"/boss/orderRefund/queryRefundRecord",method:"post",data:e})}function L(e){return Object(o["a"])({url:"/boss/orderRefund/exportRefundRecord",method:"post",responseType:"blob",data:e})}function C(e){return Object(o["a"])({url:"/boss/orderRefund/launchRefund",method:"post",data:e})}function S(e){return Object(o["a"])({url:"/boss/orderRefund/launchRefund",method:"post",data:e})}function W(e){return Object(o["a"])({url:"/boss/orderRefund/queryRefundRecordException",method:"post",data:e})}function V(e){return Object(o["a"])({url:"/boss/orderRefund/saveRefund",method:"post",data:e})}function z(e){return Object(o["a"])({url:"/boss/orderRefund/refuseRefund",method:"post",data:e})}function M(e){return Object(o["a"])({url:"/boss/orderRefund/againRefund",method:"post",data:e})}function B(e){return Object(o["a"])({url:"/boss/writeOff/abnormal/selRepealList",method:"post",data:e})}function H(e){return Object(o["a"])({url:"/boss/writeOff/abnormal/repealExceptionRepay",method:"post",data:e})}function U(e){return Object(o["a"])({url:"/boss/writeOff/abnormal/finishOrderRepay",method:"post",data:e})}},"841c":function(e,t,r){"use strict";var o=r("d784"),n=r("825a"),a=r("1d80"),u=r("129f"),i=r("14c3");o("search",1,(function(e,t,r){return[function(t){var r=a(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,r):new RegExp(t)[e](String(r))},function(e){var o=r(t,e,this);if(o.done)return o.value;var a=n(e),s=String(this),l=a.lastIndex;u(l,0)||(a.lastIndex=0);var c=i(a,s);return u(a.lastIndex,l)||(a.lastIndex=l),null===c?-1:c.index}]}))},eae9:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"query",staticClass:"mb10",attrs:{inline:!0,model:e.query,"label-suffix":"："}},[r("el-form-item",{attrs:{label:e.$t("order_phone_number"),prop:"userPhone"}},[r("el-input",{attrs:{maxlength:e.CONSTANT.WORD_LIMIT.PHONE,placeholder:e.$t("common_search"),clearable:""},model:{value:e.query.userPhone,callback:function(t){e.$set(e.query,"userPhone","string"===typeof t?t.trim():t)},expression:"query.userPhone"}})],1),r("el-form-item",{attrs:{label:e.$t("user_name")}},[r("el-input",{attrs:{placeholder:e.$t("common_search"),clearable:""},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name","string"===typeof t?t.trim():t)},expression:"query.name"}})],1),r("el-form-item",{attrs:{label:e.$t("order_order_id"),prop:"orderNo"}},[r("el-input",{staticClass:"search-order-input",attrs:{maxlength:e.CONSTANT.WORD_LIMIT.ORDER,placeholder:e.$t("common_search"),clearable:""},model:{value:e.query.orderNo,callback:function(t){e.$set(e.query,"orderNo","string"===typeof t?t.trim():t)},expression:"query.orderNo"}})],1),r("el-form-item",{attrs:{label:e.$t("user_bvn"),prop:"bvnNo"}},[r("el-input",{attrs:{maxlength:e.CONSTANT.WORD_LIMIT.BVN,placeholder:e.$t("common_search"),clearable:""},model:{value:e.query.bvnNo,callback:function(t){e.$set(e.query,"bvnNo","string"===typeof t?t.trim():t)},expression:"query.bvnNo"}})],1),r("el-form-item",{attrs:{label:e.$t("order_deadline_time"),prop:"dueDate"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"","end-placeholder":"","value-format":"yyyy-MM-dd"},model:{value:e.dueDate,callback:function(t){e.dueDate=t},expression:"dueDate"}})],1),r("icon-button",{attrs:{type:"search"},on:{click:e.search}},[e._v(" "+e._s(e.$t("common_search"))+" ")])],1),r("el-table",{attrs:{data:e.tableData,border:"","header-row-class-name":"table-header"}},[r("el-table-column",{attrs:{prop:"appName",label:e.$t("common_app_name")}}),r("el-table-column",{attrs:{prop:"userName",label:e.$t("user_name")}}),r("el-table-column",{attrs:{prop:"orderNo",label:e.$t("order_order_id")}}),r("el-table-column",{attrs:{prop:"userPhone",label:e.$t("order_phone_number")}}),r("el-table-column",{attrs:{prop:"bvnNo",label:e.$t("user_bvn")}}),r("el-table-column",{attrs:{prop:"loanAmount",label:e.$t("order_limit")}}),r("el-table-column",{attrs:{prop:"productPeriod",label:e.$t("order_cycle")}}),r("el-table-column",{attrs:{prop:"mustRefundAmountPre",label:e.$t("order_should_repayment_amonut")}}),r("el-table-column",{attrs:{prop:"mustRefundTime",label:e.$t("order_deadline_time")}}),r("el-table-column",{attrs:{prop:"refundAmount",label:e.$t("order_did_return_amount")}}),r("el-table-column",{attrs:{prop:"unRefundAmount",label:e.$t("order_did_not_return_amount")}}),r("el-table-column",{attrs:{prop:"overdueDays",label:e.$t("order_overdue_days")}}),r("el-table-column",{attrs:{label:e.$t("common_operation"),fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("el-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.OFFLINE_WRITEOFF_REPAY,expression:"$auth.OFFLINE_WRITEOFF_REPAY"}],attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleWriteOff(o)}}},[e._v(" "+e._s(e.$t("payment_writeoff"))+" ")]),r("el-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.OFFLINE_WRITEOFF_DETAIL_BUTTON,expression:"$auth.OFFLINE_WRITEOFF_DETAIL_BUTTON"}],attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleDetail(o)}}},[e._v(e._s(e.$t("common_detail")))])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.currentPage,limit:e.pageSize},on:{"update:page":function(t){e.currentPage=t},"update:limit":function(t){e.pageSize=t},pagination:e.pagination}}),r("el-dialog",{attrs:{title:e.$t("payment_writeoff"),visible:e.writeoffVisible,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.writeoffVisible=t},close:e.handleClose}},[r("el-form",{ref:"writeoffForm",attrs:{model:e.writeoffForm,rules:e.rules,"label-suffix":"：","label-width":"100px"}},[r("el-form-item",{attrs:{label:e.$t("order_order_id"),prop:"orderId"}},[r("el-input",{attrs:{disabled:""},model:{value:e.writeoffForm.orderId,callback:function(t){e.$set(e.writeoffForm,"orderId",t)},expression:"writeoffForm.orderId"}})],1),r("el-form-item",{attrs:{label:e.$t("order_serial_number"),prop:"flow_num"}},[r("el-input",{staticClass:"input-with-select",attrs:{placeholder:""},model:{value:e.writeoffForm.flow_num,callback:function(t){e.$set(e.writeoffForm,"flow_num","string"===typeof t?t.trim():t)},expression:"writeoffForm.flow_num"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchFlowNum},slot:"append"},[e._v(" "+e._s(e.$t("common_search"))+" ")])],1)],1),r("el-form-item",{attrs:{label:e.$t("payment_repayment_amount"),prop:"payAmount"}},[r("el-input",{attrs:{disabled:""},model:{value:e.writeoffForm.payAmount,callback:function(t){e.$set(e.writeoffForm,"payAmount",t)},expression:"writeoffForm.payAmount"}})],1),r("el-form-item",{attrs:{label:e.$t("order_repayment_time"),prop:"payDate"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",disabled:""},model:{value:e.writeoffForm.payDate,callback:function(t){e.$set(e.writeoffForm,"payDate",t)},expression:"writeoffForm.payDate"}})],1),r("el-form-item",{attrs:{label:e.$t("common_remark"),prop:"remark"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.writeoffForm.remark,callback:function(t){e.$set(e.writeoffForm,"remark",t)},expression:"writeoffForm.remark"}})],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.writeoffVisible=!1}}},[e._v(" "+e._s(e.$t("common_cancel"))+" ")]),r("el-button",{attrs:{type:"primary",loading:e.writeoffLoading},on:{click:function(t){return e.submitForm("writeoffForm")}}},[e._v(" "+e._s(e.$t("common_confirm"))+" ")])],1)],1)],1)},n=[],a=(r("caad"),r("d3b7"),r("ac1f"),r("2532"),r("841c"),r("5530")),u=r("2409"),i=r("ed08"),s={name:"offlineWriteoff",data:function(){var e=this,t=function(t,r,o){""===r?o(new Error(e.$t("common_required"))):Object(u["j"])({param:{bankFlowNo:r}}).then((function(t){e.writeoffForm.payAmount=t.data.payAmount,e.writeoffForm.payDate=t.data.payDate,e.writeoffForm.remark=t.data.remark,o()})).catch((function(e){o(new Error(e.message))}))};return Object(a["a"])(Object(a["a"])({},Object(i["c"])()),{},{tableData:[],total:0,dueDate:"",query:{userPhone:"",orderNo:"",bvnNo:"",name:""},orderInfo:"",rules:{flow_num:[{validator:t,trigger:"none"}],payAmount:[{required:!0,message:this.$t("common_required"),trigger:"blur"}],payDate:[{required:!0,message:this.$t("common_required"),trigger:"blur"}]},editForm:{time:""},editVisible:!1,writeoffLoading:!1,dialogImageUrl:"",writeoffVisible:!1,multipleSelection:[],writeoffForm:{orderId:"",flow_num:"",payAmount:"",payDate:"",remark:""}})},created:function(){this.getTableData()},methods:{pagination:function(e){var t=e.page,r=e.limit;this.pageSize=r,this.currentPage=t,this.getTableData()},search:function(){this.currentPage=1,this.getTableData()},getTableData:function(){var e,t,r=this;Object(u["P"])({pageNum:this.currentPage,pageSize:this.pageSize,param:Object(a["a"])(Object(a["a"])({},this.query),{},{dueStartDate:null===(e=this.dueDate)||void 0===e?void 0:e[0],dueEndDate:null===(t=this.dueDate)||void 0===t?void 0:t[1]})}).then((function(e){var t;200==e.status&&(r.tableData=e.data.list,r.total=null!==(t=e.data.total)&&void 0!==t?t:0)}))},resetForm:function(){this.dueDate=[],this.$refs.query.resetFields(),this.getTableData()},handleClose:function(){void 0!==this.$refs["writeoffForm"]&&this.$refs["writeoffForm"].resetFields(),this.writeoffVisible=!1},submitForm:function(){var e=this;this.$refs.writeoffForm.validate((function(t,r){if(!t)return console.log("error submit!!"),!1;e.writeoffLoading=!0,Object(u["Q"])({param:{orderNo:e.writeoffForm.orderId,bankFlowNo:e.writeoffForm.flow_num,remark:e.writeoffForm.remark}}).then((function(t){200==t.status&&(e.search(),e.$message.success(t.message),e.writeoffLoading=!1,e.writeoffVisible=!1)})).catch((function(e){})).finally((function(){e.writeoffLoading=!1}))}))},handleWriteOff:function(e){this.writeoffForm.orderId=e.orderNo,this.writeoffVisible=!0},searchFlowNum:function(){this.$refs.writeoffForm.validateField("flow_num")},handleDetail:function(e){var t=this.$store.getters.btnPer.includes("offlineWriteoffUsercontactButton")?1:0;this.$router.push({name:"detail",query:{type:13,contactFlag:t,userId:e.userId,orderNo:e.orderNo,orderId:e.id}})}}},l=s,c=r("2877"),d=Object(c["a"])(l,o,n,!1,null,null,null);t["default"]=d.exports}}]);