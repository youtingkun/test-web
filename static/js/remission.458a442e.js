(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["remission"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"841c":function(e,t,r){"use strict";var o=r("d784"),a=r("825a"),n=r("1d80"),l=r("129f"),u=r("14c3");o("search",1,(function(e,t,r){return[function(t){var r=n(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,r):new RegExp(t)[e](String(r))},function(e){var o=r(t,e,this);if(o.done)return o.value;var n=a(e),s=String(this),i=n.lastIndex;l(i,0)||(n.lastIndex=0);var c=u(n,s);return l(n.lastIndex,i)||(n.lastIndex=i),null===c?-1:c.index}]}))},"906e":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"query",staticClass:"mb10",attrs:{inline:!0,model:e.query,"label-suffix":"："}},[r("el-form-item",{attrs:{label:e.$t("order_order_id"),prop:"orderNo"}},[r("el-input",{staticClass:"search-order-input",attrs:{clearable:"",maxlength:e.CONSTANT.WORD_LIMIT.ORDER},model:{value:e.query.orderNo,callback:function(t){e.$set(e.query,"orderNo","string"===typeof t?t.trim():t)},expression:"query.orderNo"}})],1),r("el-form-item",{attrs:{label:e.$t("order_phone_number"),prop:"phone"}},[r("el-input",{attrs:{clearable:"",maxlength:e.CONSTANT.WORD_LIMIT.PHONE},model:{value:e.query.phone,callback:function(t){e.$set(e.query,"phone","string"===typeof t?t.trim():t)},expression:"query.phone"}})],1),r("el-form-item",{attrs:{label:e.$t("user_bvn"),prop:"bvn"}},[r("el-input",{attrs:{clearable:"",maxlength:e.CONSTANT.WORD_LIMIT.BVN},model:{value:e.query.bvn,callback:function(t){e.$set(e.query,"bvn","string"===typeof t?t.trim():t)},expression:"query.bvn"}})],1),r("el-form-item",{attrs:{label:e.$t("order_remission_apply_operator"),prop:"accountName"}},[r("el-input",{attrs:{clearable:""},model:{value:e.query.accountName,callback:function(t){e.$set(e.query,"accountName",t)},expression:"query.accountName"}})],1),r("el-form-item",{attrs:{label:e.$t("order_credit_person"),prop:"auditName"}},[r("el-input",{attrs:{clearable:""},model:{value:e.query.auditName,callback:function(t){e.$set(e.query,"auditName",t)},expression:"query.auditName"}})],1),r("el-form-item",{attrs:{label:e.$t("common_status"),prop:"status"}},[r("el-select",{attrs:{placeholder:e.$t("common_search")},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},e._l([1,2,3],(function(t){return r("el-option",{key:t,attrs:{label:e.$t("order_remission_aduit_status"+t),value:t}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("order_did_not_return_amount")}},[r("el-input",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:e.query.noRefundAmountBegin,callback:function(t){e.$set(e.query,"noRefundAmountBegin","string"===typeof t?t.trim():t)},expression:"query.noRefundAmountBegin"}}),e._v(" - "),r("el-input",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:e.query.noRefundAmountEnd,callback:function(t){e.$set(e.query,"noRefundAmountEnd","string"===typeof t?t.trim():t)},expression:"query.noRefundAmountEnd"}})],1),r("icon-button",{attrs:{type:"search"},on:{click:e.search}},[e._v(" "+e._s(e.$t("common_search"))+" ")])],1),r("div",{staticClass:"mb20"},[r("icon-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.COLLECTION_REDUCE_SAVE_ALL_REDUCE_AUDIT,expression:"$auth.COLLECTION_REDUCE_SAVE_ALL_REDUCE_AUDIT"}],attrs:{type:"batch"},on:{click:e.handleReview}},[e._v(" "+e._s(e.$t("order_batch_review"))+" ")])],1),r("el-table",{attrs:{data:e.tableData,border:"","header-row-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{prop:"appName",label:e.$t("common_app_name")}}),r("el-table-column",{attrs:{prop:"userName",label:e.$t("user_name")}}),r("el-table-column",{attrs:{prop:"orderNo",label:e.$t("order_order_id")}}),r("el-table-column",{attrs:{prop:"phone",label:e.$t("order_phone_number")}}),r("el-table-column",{attrs:{prop:"bvn",label:e.$t("user_bvn")}}),r("el-table-column",{attrs:{prop:"loanAmount",label:e.$t("order_limit")}}),r("el-table-column",{attrs:{prop:"productPeriod",label:e.$t("order_cycle")}}),r("el-table-column",{attrs:{prop:"mustRefundAmountPre",label:e.$t("order_should_repayment_amonut")}}),r("el-table-column",{attrs:{prop:"refundAmount",label:e.$t("order_did_return_amount")}}),r("el-table-column",{attrs:{prop:"noRefundAmount",label:e.$t("order_did_not_return_amount")}}),r("el-table-column",{attrs:{prop:"mustRefundAmountTotal",label:e.$t("total_due_amount")}}),r("el-table-column",{attrs:{prop:"overdueDays",label:e.$t("order_overdue_days")}}),r("el-table-column",{attrs:{prop:"accountName",label:e.$t("order_remission_apply_operator")}}),r("el-table-column",{attrs:{prop:"createTime",label:e.$t("order_remission_apply_time")}}),r("el-table-column",{attrs:{prop:"status",label:e.$t("common_status")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.$t("order_remission_aduit_status"+t.row.status))+" ")]}}])}),r("el-table-column",{attrs:{prop:"auditName",label:e.$t("order_credit_person")}}),r("el-table-column",{attrs:{prop:"auditTime",label:e.$t("order_credit_time")}}),r("el-table-column",{attrs:{prop:"auditRemark",label:e.$t("common_remark")}}),r("el-table-column",{attrs:{label:e.$t("common_operation"),fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?r("el-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.COLLECTION_REDUCE_SAVE_AUDIT,expression:"$auth.COLLECTION_REDUCE_SAVE_AUDIT"}],attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.handleOperation(t.row)}}},[e._v(" "+e._s(e.$t("common_operation"))+" ")]):e._e(),r("el-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.COLLECTIONREDUCEORDER_DETAIL,expression:"$auth.COLLECTIONREDUCEORDER_DETAIL"}],attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.handleDetail(t.row)}}},[e._v(" "+e._s(e.$t("common_detail"))+" ")])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.currentPage,limit:e.pageSize},on:{"update:page":function(t){e.currentPage=t},"update:limit":function(t){e.pageSize=t},pagination:e.pagination}}),r("el-dialog",{attrs:{title:e.$t("order_remission"),visible:e.reduceVisible,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.reduceVisible=t},close:e.handleClose}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-suffix":"："}},[r("el-form-item",{attrs:{label:e.$t("order_did_return_amount"),prop:"refundAmount"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.refundAmount,callback:function(t){e.$set(e.ruleForm,"refundAmount",t)},expression:"ruleForm.refundAmount"}})],1),r("el-form-item",{attrs:{label:e.$t("order_did_not_return_amount"),prop:"noRefundAmount"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.noRefundAmount,callback:function(t){e.$set(e.ruleForm,"noRefundAmount",t)},expression:"ruleForm.noRefundAmount"}})],1),r("el-form-item",{attrs:{label:e.$t("order_remission_amount"),prop:"reduceAmount"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.reduceAmount,callback:function(t){e.$set(e.ruleForm,"reduceAmount",t)},expression:"ruleForm.reduceAmount"}})],1),r("el-form-item",{attrs:{label:e.$t("order_remission_reason"),prop:"reduceReason"}},[r("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.reduceReason,callback:function(t){e.$set(e.ruleForm,"reduceReason",t)},expression:"ruleForm.reduceReason"}})],1),r("el-form-item",{attrs:{label:e.$t("common_remark"),prop:"auditRemark"}},[r("el-input",{attrs:{type:"textarea",placeholder:e.$t("common_select_option"),clearable:""},model:{value:e.ruleForm.auditRemark,callback:function(t){e.$set(e.ruleForm,"auditRemark",t)},expression:"ruleForm.auditRemark"}})],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.COLLECTION_REDUCE_SAVE_REDUCE_AUDIT,expression:"$auth.COLLECTION_REDUCE_SAVE_REDUCE_AUDIT"}],attrs:{type:"primary"},on:{click:function(t){return e.handleAudit(2)}}},[e._v(" "+e._s(e.$t("order_remission_aduit_status2"))+" ")]),r("el-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.COLLECTION_REDUCE_SAVE_REDUCE_AUDIT,expression:"$auth.COLLECTION_REDUCE_SAVE_REDUCE_AUDIT"}],attrs:{type:"danger"},on:{click:function(t){return e.handleAudit(3)}}},[e._v(" "+e._s(e.$t("order_remission_aduit_status3"))+" ")])],1)],1)],1)},a=[],n=(r("4160"),r("caad"),r("ac1f"),r("2532"),r("841c"),r("159b"),r("5530")),l=r("960d"),u=r("ed08"),s={name:"collectionReduceList",data:function(){return Object(n["a"])(Object(n["a"])({},Object(u["c"])()),{},{tableData:[],total:0,input:"",query:{orderNo:"",phone:"",bvn:"",accountName:"",auditName:"",status:1,noRefundAmountBegin:"",noRefundAmountEnd:""},titleType:"add",ruleForm:{merchantId:"",type:"",channelId:"",price:"",remark:"",status:1},rules:{auditRemark:[{required:!0,message:this.$t("system_please_input"),trigger:"blur"}]},reduceVisible:!1,dialogImageUrl:"",customerVisible:!1,multipleSelection:[]})},created:function(){this.getTableData()},methods:{pagination:function(e){var t=e.page,r=e.limit;this.pageSize=r,this.currentPage=t,this.getTableData()},search:function(){this.currentPage=1,this.getTableData()},getTableData:function(){var e,t,r=this;Object(l["n"])({pageNum:this.currentPage,pageSize:this.pageSize,param:Object(n["a"])(Object(n["a"])({},this.query),{},{startDate:null===(e=this.query.time)||void 0===e?void 0:e[0],endDate:null===(t=this.query.time)||void 0===t?void 0:t[1]})}).then((function(e){var t;200==e.status&&(r.tableData=e.data.list,r.total=null!==(t=e.data.total)&&void 0!==t?t:0)}))},resetForm:function(){this.$refs.query.resetFields(),this.getTableData()},handleDetail:function(e){var t=this.$store.getters.btnPer.includes("collectionReduceOrderUserContactRecord")?1:0;this.$router.push({name:"detail",query:{type:7,contactFlag:t,orderNo:e.orderNo,userId:e.userId,orderId:e.orderId}})},handleClose:function(){void 0!==this.$refs["ruleForm"]&&this.$refs["ruleForm"].resetFields(),this.dialogVisible=!1},handleOperation:function(e){var t=this;Object(l["i"])({param:{orderId:e.orderId,id:e.id}}).then((function(r){200==r.status?(t.ruleForm=r.data,t.ruleForm.orderId=e.orderId,t.ruleForm.id=e.id,t.reduceVisible=!0):t.$message.error(r.message)}))},handleAudit:function(e){var t=this;this.$refs["ruleForm"].validate((function(r){if(!r)return console.log("error submit!!"),!1;Object(l["r"])({param:{id:t.ruleForm.id,orderId:t.ruleForm.orderId,auditRemark:t.ruleForm.auditRemark,status:e}}).then((function(e){200==e.status&&(t.search(),t.$message.success(e.message),t.reduceVisible=!1)}))}))},handleSelectionChange:function(e){this.multipleSelection=e},handleReview:function(){var e=this;if(0!==this.multipleSelection.length){var t=[];this.multipleSelection.forEach((function(e){t.push(e.orderNo)})),this.$confirm(this.$t("order_batch_review_tips"),this.$t("order_batch_review"),{distinguishCancelAndClose:!0,confirmButtonText:this.$t("order_remission_aduit_status2"),cancelButtonText:this.$t("order_remission_aduit_status3"),type:"warning"}).then((function(){Object(l["o"])({param:{orderNos:t,status:2}}).then((function(t){e.getTableData(),e.$message({message:t.message,type:"success"})}))})).catch((function(r){"cancel"===r&&Object(l["o"])({param:{orderNos:t,status:3}}).then((function(t){e.getTableData(),e.$message({message:t.message,type:"success"})}))}))}else this.$message.error(this.$t("tips_comfirm_choose"))}}},i=s,c=r("2877"),d=Object(c["a"])(i,o,a,!1,null,null,null);t["default"]=d.exports},"960d":function(e,t,r){"use strict";r.d(t,"l",(function(){return a})),r.d(t,"m",(function(){return n})),r.d(t,"k",(function(){return l})),r.d(t,"j",(function(){return u})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return i})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return d})),r.d(t,"s",(function(){return m})),r.d(t,"d",(function(){return p})),r.d(t,"g",(function(){return b})),r.d(t,"q",(function(){return f})),r.d(t,"c",(function(){return _})),r.d(t,"h",(function(){return h})),r.d(t,"p",(function(){return v})),r.d(t,"t",(function(){return $})),r.d(t,"i",(function(){return g})),r.d(t,"n",(function(){return R})),r.d(t,"r",(function(){return O})),r.d(t,"o",(function(){return y}));var o=r("0c6d"),a=function(e){return Object(o["a"])({url:"/boss/collection/getTotalOrderList2",method:"post",data:e})},n=function(e){return Object(o["a"])({url:"/boss/collection/getTotalOrderList1",method:"post",data:e})},l=function(e){return Object(o["a"])({url:"/boss/collection/getSelfOrderList1",method:"post",data:e})},u=function(e){return Object(o["a"])({url:"/boss/collection/getSelfOrderList2",method:"post",data:e})},s=function(e){return Object(o["a"])({url:"/boss/collection/addRemark1",method:"post",data:e})},i=function(e){return Object(o["a"])({url:"/boss/collection/addRemark2",method:"post",data:e})},c=function(e){return Object(o["a"])({url:"/boss/collectionDis/checkCollectionName3",method:"post",data:e})},d=function(e){return Object(o["a"])({url:"/boss/collectionDis/checkCollectionName1",method:"post",data:e})},m=function(e){return Object(o["a"])({url:"/boss/collectionDis/updateCollectionDispatch2",method:"post",data:e})},p=function(e){return Object(o["a"])({url:"/boss/collectionReduce/saveAllReduce2",method:"post",data:e})},b=function(e){return Object(o["a"])({url:"/boss/collection/getCollectionTotalOrderList/export",responseType:"blob",method:"post",data:e})},f=function(e){return Object(o["a"])({url:"/boss/collectionReduce/saveReduceApplication2",method:"post",data:e})},_=function(e){return Object(o["a"])({url:"/boss/collectionReduce/saveAllReduce1",method:"post",data:e})},h=function(e){return Object(o["a"])({url:"/boss/collection/getS0TotalOrderList/export",responseType:"blob",method:"post",data:e})},v=function(e){return Object(o["a"])({url:"/boss/collectionReduce/saveReduceApplication1",method:"post",data:e})},$=function(e){return Object(o["a"])({url:"/boss/collectionDis/updateCollectionDispatch1",method:"post",data:e})},g=function(e){return Object(o["a"])({url:"/boss/collectionReduce/getReduceAmount",method:"post",data:e})},R=function(e){return Object(o["a"])({url:"/boss/collectionReduce/listCollectionReduce",method:"post",data:e})},O=function(e){return Object(o["a"])({url:"/boss/collectionReduce/saveReduceAudit",method:"post",data:e})},y=function(e){return Object(o["a"])({url:"/boss/collectionReduce/saveAllReduceAudit",method:"post",data:e})}}}]);