(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["creditOrderAll"],{"27d3":function(e,t,r){"use strict";var a=r("c0b7");t["a"]={data:function(){return{isUserNewStatus:{1:this.$t("order_new_user"),2:this.$t("order_old_user")},approveDispatchStatus:{1:this.$t("order_already_distribution"),0:this.$t("order_not_distribution")},orderStatus:{10:this.$t("order_jishenzhong"),11:this.$t("order_machine_review_passed"),14:this.$t("order_machine_review_rejected"),15:this.$t("order_15"),21:this.$t("order_pending_manual_review"),24:this.$t("order_pass"),27:this.$t("order_refuse"),28:this.$t("order_refuse30"),31:this.$t("order_pending_card"),34:this.$t("order_invalid_order"),41:this.$t("order_pending"),50:this.$t("order_three_party_order_successfully_created"),53:this.$t("order_abnormal_loan"),56:this.$t("order_loan_failed"),59:this.$t("order_loan_rejection"),62:this.$t("order_successful_loan"),80:this.$t("order_repaid"),88:this.$t("extension_Cleared")},productSetStatus:{1:this.$t("operation_online"),2:this.$t("operation_offline")},payStyle:{11:this.$t("detail_pay_online"),12:this.$t("detail_pay_withholding"),21:this.$t("detail_pay_offline"),0:this.$t("router_abnormalWriteoff")},spotCheckStatus:{0:"未抽查",1:"已抽查"},refundOrderStatus:{2:"退款中",1:"退款成功"}}},computed:{refundOrderOptions:function(){return Object(a["d"])(this.refundOrderStatus)},spotCheckOptions:function(){return Object(a["d"])(this.spotCheckStatus)},isUserNewOptions:function(){return Object(a["c"])(this.isUserNewStatus)},approveDispatchOptions:function(){return Object(a["c"])(this.approveDispatchStatus)},productSetOptions:function(){return Object(a["c"])(this.productSetStatus)},orderOptions:function(){return Object(a["c"])(this.orderStatus)}}}},"3a15":function(e,t,r){"use strict";r("7349")},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},7349:function(e,t,r){},"9b2e":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return l}));var a=r("0c6d");function o(e){return Object(a["a"])({url:"/boss/orderApprove/allOrderApproveList",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/boss/orderApprove/refusedBatch",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/boss/orderApprove/myOrderApproveList",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/boss/orderApprove/updateOrderExtra",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/boss/collectionDis/checkCollectionName2",method:"post",data:e})}},"9e34":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{staticClass:"mb10",attrs:{inline:"","label-suffix":"："}},[r("el-form-item",{attrs:{label:e.$t("order_order_id")}},[r("el-input",{staticClass:"search-order-input",attrs:{maxlength:e.CONSTANT.WORD_LIMIT.ORDER,clearable:""},model:{value:e.searchForm.orderNo,callback:function(t){e.$set(e.searchForm,"orderNo","string"===typeof t?t.trim():t)},expression:"searchForm.orderNo"}})],1),r("el-form-item",{attrs:{label:e.$t("order_phone_number")}},[r("el-input",{attrs:{maxlength:e.CONSTANT.WORD_LIMIT.PHONE,clearable:""},model:{value:e.searchForm.telephone,callback:function(t){e.$set(e.searchForm,"telephone","string"===typeof t?t.trim():t)},expression:"searchForm.telephone"}})],1),r("el-form-item",{attrs:{label:"Bvn"}},[r("el-input",{attrs:{maxlength:e.CONSTANT.WORD_LIMIT.BVN,clearable:""},model:{value:e.searchForm.bvnNo,callback:function(t){e.$set(e.searchForm,"bvnNo","string"===typeof t?t.trim():t)},expression:"searchForm.bvnNo"}})],1),r("el-form-item",{attrs:{label:e.$t("order_choosed_reminder")}},[r("el-input",{attrs:{clearable:""},model:{value:e.searchForm.approveName,callback:function(t){e.$set(e.searchForm,"approveName",t)},expression:"searchForm.approveName"}})],1),r("el-form-item",{attrs:{label:e.$t("order_allot_status")}},[r("el-select",{attrs:{placeholder:e.$t("order_all"),clearable:""},model:{value:e.searchForm.approveDispatchStatus,callback:function(t){e.$set(e.searchForm,"approveDispatchStatus",t)},expression:"searchForm.approveDispatchStatus"}},[r("el-option",{attrs:{value:"",label:e.$t("common_auth")}}),e._l(e.approveDispatchOptions,(function(e){return r("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],2)],1),r("el-form-item",{attrs:{label:e.$t("order_channel_label")}},[r("el-input",{attrs:{clearable:""},model:{value:e.searchForm.afStatus,callback:function(t){e.$set(e.searchForm,"afStatus",t)},expression:"searchForm.afStatus"}})],1),r("el-form-item",{attrs:{label:e.$t("order_order_create_time")}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],type:"daterange","range-separator":"-",clearable:""},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),r("el-form-item",{attrs:{label:e.$t("order_old_new_user")}},[r("el-select",{attrs:{placeholder:e.$t("order_all"),clearable:""},model:{value:e.searchForm.isUserNew,callback:function(t){e.$set(e.searchForm,"isUserNew",t)},expression:"searchForm.isUserNew"}},e._l(e.isUserNewOptions,(function(e){return r("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("order_allot_name")}},[r("el-input",{attrs:{clearable:""},model:{value:e.searchForm.operatorName,callback:function(t){e.$set(e.searchForm,"operatorName",t)},expression:"searchForm.operatorName"}})],1),r("icon-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.ORDERAPPROVE_LIST,expression:"$auth.ORDERAPPROVE_LIST"}],attrs:{type:"search"},on:{click:e.handleSearch}},[e._v(e._s(e.$t("common_search")))])],1),r("div",{staticClass:"mb20"},[r("icon-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.ORDERAPPROVE_ADD,expression:"$auth.ORDERAPPROVE_ADD"}],attrs:{type:"batch"},on:{click:e.handleDistribution}},[e._v(e._s(e.$t("order_batch_distribution")))]),r("icon-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.ORDERAPPROVE_BATCH_REFUSED,expression:"$auth.ORDERAPPROVE_BATCH_REFUSED"}],attrs:{type:"batch"},on:{click:e.handleBatchRefused}},[e._v(e._s(e.$t("order_batch_audit_rejection")))])],1),r("el-table",{attrs:{data:e.tableList,border:"","header-row-class-name":"table-header","v-loading":e.listLoading},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{label:e.$t("order_channel_label"),prop:"afStatus"}}),r("el-table-column",{attrs:{label:e.$t("common_app_name"),prop:"appName"}}),r("el-table-column",{attrs:{label:e.$t("user_name"),prop:"userName"}}),r("el-table-column",{attrs:{label:e.$t("order_order_id"),prop:"orderNo"}}),r("el-table-column",{attrs:{label:e.$t("order_phone_number"),prop:"userPhone"}}),r("el-table-column",{attrs:{label:"Bvn",prop:"bvnNo"}}),r("el-table-column",{attrs:{label:e.$t("order_order_create_time"),prop:"createTime"}}),r("el-table-column",{attrs:{label:e.$t("order_limit"),prop:"loanAmount"}}),r("el-table-column",{attrs:{label:e.$t("order_cycle"),prop:"productPeriod"}}),r("el-table-column",{attrs:{label:e.$t("order_allot_status"),prop:"approveDispatchStatus"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(e.approveDispatchStatus[r.approveDispatchStatus])+" ")]}}])}),r("el-table-column",{attrs:{label:e.$t("order_old_new_user"),prop:"isUsernew"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(e.isUserNewStatus[r.isUsernew])+" ")]}}])}),r("el-table-column",{attrs:{label:e.$t("order_settlement_times"),prop:"historyRepayCount"}}),r("el-table-column",{attrs:{label:e.$t("order_choosed_reminder"),prop:"approveName"}}),r("el-table-column",{attrs:{label:e.$t("order_distribution_time"),prop:"approveCreateTime"}}),r("el-table-column",{attrs:{label:e.$t("common_operation"),align:"center",width:"100 ",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.ORDERCREDIT_DETAIL,expression:"$auth.ORDERCREDIT_DETAIL"}],attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleDetail(a)}}},[e._v(e._s(e.$t("common_detail")))])]}}])})],1),e.tableList.length>0?r("pagination",{attrs:{total:e.page.total,page:e.page.current,limit:e.page.size},on:{"update:page":function(t){return e.$set(e.page,"current",t)},"update:limit":function(t){return e.$set(e.page,"size",t)},pagination:e.getTableList}}):e._e(),r("distribution-dialog",{ref:"distributionDialog",on:{getList:e.getTableList}}),r("refused-dialog",{ref:"refusedDialog",on:{getList:e.getTableList}})],1)},o=[],i=(r("caad"),r("a9e3"),r("d3b7"),r("2532"),r("5530")),s=r("333d"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.$t("common_app_name"),visible:e.dialogVisible,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm}},[r("el-form-item",{attrs:{label:e.$t("order_distribute"),prop:"person",rules:{required:!0,message:e.$t("common_required"),trigger:"change"}}},[r("el-select",{attrs:{clearable:"",filterable:""},model:{value:e.ruleForm.person,callback:function(t){e.$set(e.ruleForm,"person",t)},expression:"ruleForm.person"}},e._l(e.creditUserList,(function(e){return r("el-option",{key:e.id,attrs:{value:e.id,label:e.userName}})})),1)],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("common_cancel")))]),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogBtnLoading,expression:"dialogBtnLoading"},{name:"throttle",rawName:"v-throttle",value:e.handleSure,expression:"handleSure"}],attrs:{type:"primary"}},[e._v(e._s(e.$t("common_confirm")))])],1)],1)},l=[],c=(r("d81d"),r("9b2e")),u=r("2ef0"),d={name:"",props:{},data:function(){return{dialogVisible:!1,dialogBtnLoading:!1,list:[],ruleForm:{person:""},creditUserList:"",rules:{person:[{required:!0,message:this.$t("common_required"),trigger:"change"}]}}},methods:{getCreditUserList:function(){var e=this;Object(c["c"])({param:{updateType:2}}).then((function(t){e.creditUserList=t.data.accountDOS}))},handleSure:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&(e.dialogBtnLoading=!0,Object(c["a"])({param:{accountId:e.ruleForm.person,orderIds:e.list.map((function(e){return e.id}))}}).then((function(t){e.$emit("getList"),e.dialogVisible=!1,e.dialogBtnLoading=!1})))}))},openDialog:function(e){this.getCreditUserList(),this.list=Object(u["cloneDeep"])(e),this.dialogVisible=!0,this.ruleForm={person:""}}}},p=d,m=r("2877"),h=Object(m["a"])(p,n,l,!1,null,"28988fca",null),b=h.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.$t("order_batch_audit_rejection"),visible:e.dialogVisible,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm}},[r("div",{staticClass:"mb30"},[e._v(e._s(e.$t("order_batch_audit_rejection_tips")))]),r("el-form-item",{attrs:{label:e.$t("order_batch_rejection_type"),prop:"approveResult"}},[r("el-select",{attrs:{filterable:""},model:{value:e.ruleForm.approveResult,callback:function(t){e.$set(e.ruleForm,"approveResult",t)},expression:"ruleForm.approveResult"}},[r("el-option",{attrs:{value:2,label:e.$t("order_reapply_immediately")}}),r("el-option",{attrs:{value:3,label:e.$t("order_reapply_after_30")}})],1)],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("common_cancel")))]),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogBtnLoading,expression:"dialogBtnLoading"},{name:"throttle",rawName:"v-throttle",value:e.handleSure,expression:"handleSure"}],attrs:{type:"primary"}},[e._v(e._s(e.$t("common_confirm")))])],1)],1)},_=[],v={name:"",props:{},data:function(){return{dialogVisible:!1,dialogBtnLoading:!1,list:[],ruleForm:{approveResult:2}}},methods:{handleSure:function(){var e=this;this.dialogBtnLoading=!0;var t=this.list.map((function(t){return{userId:t.userId,orderId:t.orderId,orderNo:t.orderNo,approveResult:e.ruleForm.approveResult,notApproveReason:t.notApproveReason,remark:t.remark}}));Object(c["e"])({param:t}).then((function(t){e.$emit("getList"),e.dialogVisible=!1,e.dialogBtnLoading=!1,e.$message({message:t.message,type:"success"})})).catch((function(t){e.dialogVisible=!1,e.dialogBtnLoading=!1,reject(t)}))},openDialog:function(e){this.list=Object(u["cloneDeep"])(e),this.dialogVisible=!0,this.ruleForm={approveResult:2}}}},g=v,$=(r("3a15"),Object(m["a"])(g,f,_,!1,null,"e4cc85f8",null)),O=$.exports,F=r("27d3"),N={name:"creditOrderAll",components:{Pagination:s["default"],DistributionDialog:b,RefusedDialog:O},mixins:[F["a"]],data:function(){return{searchForm:{orderNo:"",telephone:"",bvnNo:"",approveName:"",approveDispatchStatus:"",time:[],isUserNew:"",afStatus:"",operatorName:""},tableList:[],listLoading:!0,page:{current:1,size:10,total:0},selectList:[]}},created:function(){this.getTableList()},methods:{canSelection:function(e,t){return 0===Number(e.approveDispatchStatus)},handleSelectionChange:function(e){this.selectList=e},getTableList:function(){var e,t,r=this;this.searchForm.startTime=null===(e=this.searchForm.time)||void 0===e?void 0:e[0],this.searchForm.endTime=null===(t=this.searchForm.time)||void 0===t?void 0:t[1];var a={param:Object(i["a"])({},this.searchForm),pageNum:this.page.current,pageSize:this.page.size};this.listLoading=!0,Object(c["b"])(a).then((function(e){r.tableList=e.data.list,r.page.total=e.data.total})).finally((function(){r.listLoading=!1}))},handleSearch:function(){this.page.current=1,this.getTableList()},handleDistribution:function(){this.selectList.length>0?this.$refs["distributionDialog"].openDialog(this.selectList):this.$message.error(this.$t("common_select_option"))},handleDetail:function(e){var t=this.$store.getters.btnPer.includes("orderusercontact")?1:0;e.userId&&e.id?this.$router.push({name:"detail",query:{type:1,contactFlag:t,userId:e.userId,orderNo:e.orderNo,orderId:e.id}}):this.$message.error("userId or orderId is null")},handleBatchRefused:function(){this.selectList.length>0?this.$refs["refusedDialog"].openDialog(this.selectList):this.$message.error(this.$t("common_select_option"))}}},y=N,D=Object(m["a"])(y,a,o,!1,null,null,null);t["default"]=D.exports},c0b7:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return l}));r("4160"),r("d81d"),r("a9e3"),r("b64b"),r("159b");var a=r("a6f4"),o=r("5c96"),i=function(e,t,r,a,i){return function(s){var n={};n=!s||s instanceof Event?t:s,e.value.validate((function(e){e&&(a.dialogFormVisible=!1,a.btnLoading=!0,r(n).then((function(e){if(200===e.status){if(o["Message"].success(e.message),"function"===typeof i)i(e);else if(i)throw new Error("callback is not a function")}else o["Message"].error(e.message);a.btnLoading=!1})))}))}},s=function(e,t,r,o,i){return function(s){r.dialogStatus=o,r.dialogFormVisible=!0,Object(a["e"])((function(){if(e.value.resetFields(),console.log("rowData",s),s&&Object.keys(t).forEach((function(e){e in s&&(t[e]=s[e])})),"function"===typeof i)i();else if(i)throw new Error("callback is not a function")}))}},n=function(e){return Object.keys(e).map((function(t){return{value:t,label:e[t]}}))},l=function(e){return Object.keys(e).map((function(t){return{value:Number(t),label:e[t]}}))}}}]);