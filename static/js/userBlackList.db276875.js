(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["userBlackList"],{"3d3f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{staticClass:"mb10",attrs:{inline:"","label-suffix":"："}},[n("el-form-item",{attrs:{label:e.$t("order_phone_number")}},[n("el-input",{attrs:{maxlength:e.CONSTANT.WORD_LIMIT.PHONE,clearable:""},model:{value:e.searchForm.phone,callback:function(t){e.$set(e.searchForm,"phone","string"===typeof t?t.trim():t)},expression:"searchForm.phone"}})],1),n("el-form-item",{attrs:{label:e.$t("user_bvn")}},[n("el-input",{attrs:{maxlength:e.CONSTANT.WORD_LIMIT.BVN,clearable:""},model:{value:e.searchForm.bvn,callback:function(t){e.$set(e.searchForm,"bvn","string"===typeof t?t.trim():t)},expression:"searchForm.bvn"}})],1),n("icon-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.BLACK_LIST,expression:"$auth.BLACK_LIST"}],attrs:{type:"search"},on:{click:e.handleSearch}},[e._v(e._s(e.$t("common_search")))])],1),n("div",{staticClass:"mb20",staticStyle:{display:"flex"}},[n("icon-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.BLACK_ADD,expression:"$auth.BLACK_ADD"}],attrs:{type:"add"},on:{click:e.handleAddBlack}},[e._v(" "+e._s(e.$t("order_add_black"))+" ")]),n("el-upload",{directives:[{name:"has",rawName:"v-has",value:e.$auth.UPLOADBLACK_EDIT,expression:"$auth.UPLOADBLACK_EDIT"}],attrs:{action:"action",multiple:!1,"http-request":e.uploadFile,"show-file-list":!1}},[n("icon-button",{attrs:{type:"add"}},[e._v(e._s(e.$t("order_import")))])],1),n("el-button",{directives:[{name:"has",rawName:"v-has",value:e.$auth.UPLOADBLACK_EDIT,expression:"$auth.UPLOADBLACK_EDIT"}],attrs:{type:"text"},on:{click:e.handleDownload}},[e._v(e._s(e.$t("order_download_black_template")))])],1),n("div",{staticClass:"table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.tableList,border:"","header-row-class-name":"table-header"}},[n("el-table-column",{attrs:{label:e.$t("common_app_name"),prop:"tenantName"}}),n("el-table-column",{attrs:{label:e.$t("user_name")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(e.showFullName(n.firstName,n.middleName,n.surName))+" ")]}}])}),n("el-table-column",{attrs:{label:e.$t("order_phone_number"),prop:"userPhone"}}),n("el-table-column",{attrs:{label:e.$t("user_bvn"),prop:"bvnNo"}}),n("el-table-column",{attrs:{label:e.$t("order_add_black_reason"),prop:"remark"}}),n("el-table-column",{attrs:{label:e.$t("order_add_black_time"),prop:"createTime"}}),n("el-table-column",{attrs:{label:e.$t("common_operator"),prop:"operatorName"}}),n("el-table-column",{attrs:{label:e.$t("common_operation"),align:"center",width:"100 ",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleRemove(a)}}},[e._v(e._s(e.$t("order_remove")))])]}}])})],1)],1),e.tableList.length>0?n("pagination",{attrs:{total:e.page.total,page:e.page.current,limit:e.page.size},on:{"update:page":function(t){return e.$set(e.page,"current",t)},"update:limit":function(t){return e.$set(e.page,"size",t)},pagination:e.getTableList}}):e._e(),n("addBlack-dialog",{ref:"blackDialog",on:{getList:e.getTableList}})],1)},o=[],r=(n("d3b7"),n("96cf"),n("1da1")),i=n("5530"),l=n("333d"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"label-suffix":"：","label-width":"120px"}},[n("el-form-item",{attrs:{label:e.$t("order_add_black_type")}},[n("el-select",{model:{value:e.inputType,callback:function(t){e.inputType=t},expression:"inputType"}},[n("el-option",{key:1,attrs:{label:e.$t("order_phone_number"),value:1}}),n("el-option",{key:2,attrs:{label:e.$t("user_bvn"),value:2}})],1)],1),n("el-form-item",{attrs:{label:e.showLable,prop:"input",rules:{required:!0,message:this.$t("common_required"),trigger:"blur"}}},[n("el-input",{model:{value:e.ruleForm.input,callback:function(t){e.$set(e.ruleForm,"input",t)},expression:"ruleForm.input"}})],1),n("el-form-item",{attrs:{label:e.$t("order_add_black_reason"),prop:"reason"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:10},maxlength:"100","show-word-limit":""},model:{value:e.ruleForm.reason,callback:function(t){e.$set(e.ruleForm,"reason",t)},expression:"ruleForm.reason"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("common_cancel")))]),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogBtnLoading,expression:"dialogBtnLoading"},{name:"throttle",rawName:"v-throttle",value:e.handleSure,expression:"handleSure"}],attrs:{type:"primary"}},[e._v(e._s(e.$t("common_confirm")))])],1)],1)},u=[],c=n("92c2"),d=n("2ef0"),m={name:"",props:{},data:function(){return{dialogVisible:!1,dialogBtnLoading:!1,title:"",row:{},ruleForm:{input:"",phone:"",Bvn:"",reason:"",firstName:"",middleName:"",surName:""},showLable:"",inputType:1,rules:{reason:[{required:!0,message:this.$t("common_required"),trigger:"blur"}]}}},watch:{inputType:{handler:function(e,t){1===e?this.showLable=this.$t("order_phone_number"):2===e&&(this.showLable=this.$t("user_bvn"))},immediate:!0,deep:!0}},computed:{},methods:{handleSure:function(){var e=this;this.$refs["ruleForm"].validate((function(t){var n;t&&(e.dialogBtnLoading=!0,1===e.inputType?n={phone:e.ruleForm.input,remark:e.ruleForm.reason}:2===e.inputType&&(n={bvn:e.ruleForm.input,remark:e.ruleForm.reason}),Object(c["j"])({param:n}).then((function(t){e.$emit("getList"),e.dialogVisible=!1})).catch((function(e){})).finally((function(){e.dialogBtnLoading=!1})))}))},openDialog:function(e){var t=this;e?(this.row=Object(d["cloneDeep"])(e),this.title="add"):(this.title=this.$t("order_add_black"),this.$nextTick((function(){t.$refs["ruleForm"].resetFields()}))),this.dialogVisible=!0}}},p=m,b=n("2877"),f=Object(b["a"])(p,s,u,!1,null,"3fc0b4bf",null),h=f.exports,g=n("6be8"),_={name:"userBlackList",components:{Pagination:l["default"],AddBlackDialog:h},data:function(){return{searchForm:{phone:"",bvn:"",opertorId:""},tableList:[],listLoading:!0,page:{current:1,size:10,total:0},showFullName:g["a"],templateUrl:"http://doc.oceansmountain.com/demo/blackuserdemo.xlsx"}},created:function(){this.getTableList()},methods:{handleAddBlack:function(){this.$refs["blackDialog"].openDialog()},getTableList:function(){var e=this,t={param:Object(i["a"])({},this.searchForm),pageNum:this.page.current,pageSize:this.page.size};this.listLoading=!0,Object(c["c"])(t).then((function(t){e.tableList=t.data.list,e.page.total=t.data.total})).finally((function(){e.listLoading=!1}))},handleSearch:function(){this.page.current=1,this.getTableList()},uploadCommonFile:function(e){var t=this,n=new FormData;n.append("file",e.file),n.append("type",5),this.listLoading=!0,Object(c["b"])(n).then((function(e){t.templateUrl=e.data})).finally((function(){t.listLoading=!1}))},uploadFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=new FormData,a.append("file",e.file),t.listLoading=!0,Object(c["k"])(a).then((function(e){var n=t.$t("common_upload")+"".concat(e.data.fail+e.data.success)+t.$t("order_data")+","+t.$t("order_success")+"".concat(e.data.success,",")+t.$t("order_fail")+"".concat(e.data.fail);t.$confirm(n,t.$t("order_prompt"),{confirmButtonText:t.$t("common_confirm"),showCancelButton:!1,type:"warning"}).then((function(){t.getTableList()}))})).finally((function(){t.listLoading=!1}));case 4:case"end":return n.stop()}}),n)})))()},handleRemove:function(e){var t=this;this.$confirm(this.$t("extra_remove_black_comfirm"),this.$t("common_tips"),{confirmButtonText:this.$t("common_confirm"),cancelButtonText:this.$t("common_cancel"),type:"warning"}).then((function(){Object(c["h"])({param:{id:e.id}}).then((function(e){t.getTableList()}))})).catch((function(){}))},handleDownload:function(){var e=document.createElement("a");e.href=this.templateUrl,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}},v=_,$=Object(b["a"])(v,a,o,!1,null,null,null);t["default"]=$.exports},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"6be8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("99af");function a(e,t,n){return"".concat(e," ").concat(t," ").concat(n)}},"92c2":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return b})),n.d(t,"o",(function(){return f})),n.d(t,"n",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return _}));var a=n("0c6d");function o(e){return Object(a["a"])({url:"/boss/user/getregistusersinfo",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/boss/user/getblacklist",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/boss/user/addblacklist",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/boss/user/registout",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/boss/user/cancelregistout",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/user/list",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/boss/user/removeblacklist",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/boss/user/uploadblacklist",method:"post",data:e})}function m(e){return Object(a["a"])({url:"boss/file/upload",method:"post",data:e})}function p(e){return Object(a["a"])({url:"/boss/userAuthInfo/query",method:"post",data:e})}function b(e){return Object(a["a"])({url:"/boss/userAuthInfo/export",method:"post",responseType:"blob",data:e})}function f(e){return Object(a["a"])({url:"/boss/userBankInfo/query",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/boss/userBankInfo/export",method:"post",responseType:"blob",data:e})}function g(e){return Object(a["a"])({url:"/boss/userBankInfo/getRegistUsersInfoList/export",method:"post",responseType:"blob",data:e})}function _(e){return Object(a["a"])({url:"/boss/userBankInfo/resetBankInfo",method:"post",data:e})}}}]);